<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>실무에서 map이 어떻게 사용되는지 확인</title>

</head>

<body>
    <div id="app"></div>
    <script>
        // step1
        /*
        fetch('https://test.api.weniv.co.kr/mall')
        .then(response => response.json())
        .then(data => {
            console.log(data);
        });
        */

        // step2
        /*
        fetch('https://test.api.weniv.co.kr/mall')
        .then(response => response.json())
        .then(data => {
            data.forEach(v => {
                console.log(v['thumbnailImg']);
                console.log(v['productName']);
                console.log(v['price']);
            });
        });
        */

        // step3 (final)
        // https://test.api.weniv.co.kr/asset/img/1/thumbnailImg.jpg
        let s = '';
        fetch('https://test.api.weniv.co.kr/mall')
        .then(response => response.json())
        .then(data => {
            data.forEach(v => {
                s += `
                <section>
                    <img src="https://test.api.weniv.co.kr/${v['thumbnailImg']}">
                    <h2>${v['productName']}</h2>
                    <p>${v['price']}</p>
                </section>
                `
            });
        })
        .then(() => {
            document.getElementById('app').innerHTML = s;
            console.log(s);
        })
    </script>
</body>

</html>